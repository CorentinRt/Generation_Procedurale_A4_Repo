[gd_scene load_steps=12 format=4 uid="uid://djqilmpjchpgu"]

[ext_resource type="Script" uid="uid://du4m66ihgjwbx" path="res://scripts/room.gd" id="1_8i5y4"]
[ext_resource type="TileSet" uid="uid://dhfsea6pvn6a2" path="res://resources/tilesets/pirates_tileset.tres" id="1_k60jg"]
[ext_resource type="PackedScene" uid="uid://dtw8kdvabfniw" path="res://scenes/minigame/minigame_ship_sharks.tscn" id="3_fe2kv"]
[ext_resource type="PackedScene" uid="uid://jti3mgir6w1b" path="res://scenes/minigame/ship_sharks/ship.tscn" id="4_g83mn"]
[ext_resource type="PackedScene" uid="uid://dv4byvi026kn3" path="res://scenes/rooms/zone_detector/room_zone_detector.tscn" id="6_g83mn"]
[ext_resource type="PackedScene" uid="uid://8e5ubfvlqdtt" path="res://scenes/npc/npc_container.tscn" id="7_tg4fk"]
[ext_resource type="PackedScene" uid="uid://ydk4vq5wvxmd" path="res://scenes/quests/quest_item_container.tscn" id="8_xyldh"]
[ext_resource type="PackedScene" uid="uid://dh0jjvqkgi5bf" path="res://scenes/minigame/ship_sharks/shark_path_loop.tscn" id="9_5bpbj"]
[ext_resource type="PackedScene" uid="uid://catoqx6ha1nl1" path="res://scenes/minigame/ship_sharks/chest_item.tscn" id="9_xyldh"]

[sub_resource type="Curve2D" id="Curve2D_ridpi"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 58, 0, 0, 0, 0, 0, 58, 56, 0, 0, 0, 0, 0, 56, 0, 0, 0, 0, 0, 0)
}
point_count = 5

[sub_resource type="Curve2D" id="Curve2D_xyldh"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -3, 5, 0, 0, 0, 0, 43, 5, 0, 0, 0, 0, 43, -41, 0, 0, 0, 0, -3, -41, 0, 0, 0, 0, -3, 5)
}
point_count = 5

[node name="Marchand1" type="Node2D" node_paths=PackedStringArray("tilemap_layers")]
script = ExtResource("1_8i5y4")
tilemap_layers = [NodePath("Floor"), NodePath("Décors"), NodePath("Props")]

[node name="Floor" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAABAAEAAQAAAAEAAAABAAIAAQABAAEAAAABAAMAAQAEAAAAAAABAAQAAQAEAAEAAAACAAAAAQAHAAAAAAACAAEAAQABAAEAAAACAAIAAQABAAEAAAACAAMAAQAFAAAAAAACAAQAAQAFAAEAAAADAAAAAQAHAAAAAAADAAEAAQABAAEAAAADAAIAAQABAAEAAAADAAMAAQABAAEAAAADAAQAAQABAAEAAAAEAAAAAQAHAAAAAAAEAAEAAQADAAIAAAAEAAIAAQABAAEAAAAEAAMAAQABAAEAAAAEAAQAAQABAAEAAAAFAAIAAQABAAEAAAAFAAMAAQABAAEAAAAFAAQAAQABAAEAAAAGAAAAAQAHAAAAAAAGAAIAAQABAAEAAAAGAAMAAQABAAEAAAAHAAAAAQAHAAAAAAAHAAEAAQABAAEAAAAHAAIAAQABAAEAAAAHAAMAAQABAAEAAAAHAAQAAQABAAEAAAAIAAAAAQAHAAAAAAAIAAEAAQACAAEAAAAIAAIAAQABAAEAAAAIAAMAAQADAAAAAAAIAAQAAQADAAEAAAAJAAAAAQAHAAAAAAAJAAEAAQACAAEAAAAJAAIAAQABAAEAAAAJAAMAAQAEAAAAAAAJAAQAAQAEAAEAAAAKAAAAAQAIAAAAAAAKAAEAAQAIAAEAAAAKAAIAAQAIAAEAAAAKAAMAAQAIAAEAAAAAAAAAAQAGAAAAAAAAAAEAAQAGAAEAAAAAAAIAAQAGAAEAAAAAAAMAAQAGAAEAAAAAAAUAAQAGAAEAAAAAAAYAAQAGAAEAAAAAAAcAAQAGAAEAAAAAAAgAAQAGAAIAAAABAAAAAQAHAAAAAAABAAUAAQAEAAIAAAABAAYAAQABAAEAAAABAAcAAQABAAEAAAABAAgAAQAHAAIAAAACAAUAAQAFAAIAAAACAAYAAQABAAEAAAACAAcAAQABAAEAAAACAAgAAQAHAAIAAAADAAUAAQABAAEAAAADAAYAAQABAAEAAAADAAcAAQABAAEAAAADAAgAAQAHAAIAAAAEAAUAAQABAAEAAAAEAAYAAQABAAEAAAAEAAcAAQADAAAAAAAEAAgAAQAHAAIAAAAFAAUAAQABAAEAAAAFAAYAAQABAAEAAAAFAAcAAQAEAAAAAAAGAAQAAQABAAEAAAAGAAUAAQABAAEAAAAGAAYAAQABAAEAAAAGAAcAAQAFAAAAAAAGAAgAAQAHAAIAAAAHAAUAAQABAAEAAAAHAAYAAQABAAEAAAAHAAcAAQABAAEAAAAHAAgAAQAHAAIAAAAIAAUAAQADAAIAAAAIAAYAAQABAAEAAAAIAAcAAQABAAEAAAAIAAgAAQAHAAIAAAAJAAUAAQAEAAIAAAAJAAYAAQABAAEAAAAJAAcAAQABAAEAAAAJAAgAAQAHAAIAAAAKAAUAAQAIAAEAAAAKAAYAAQAIAAEAAAAKAAcAAQAIAAEAAAAKAAgAAQAIAAIAAAAFAAEAAQAEAAIAAAAGAAEAAQAFAAIAAAA=")
tile_set = ExtResource("1_k60jg")

[node name="Décors" type="TileMapLayer" parent="."]
tile_set = ExtResource("1_k60jg")

[node name="Props" type="TileMapLayer" parent="."]
tile_set = ExtResource("1_k60jg")

[node name="ShipEst" parent="." instance=ExtResource("4_g83mn")]
position = Vector2(124, 72.665)
rotation = 1.5707964

[node name="Sea_Body" type="StaticBody2D" parent="."]
collision_layer = 256

[node name="Sea_Shape" type="CollisionPolygon2D" parent="Sea_Body"]
position = Vector2(-16, 64)
rotation = -0.19115531
polygon = PackedVector2Array(141.56802, 57.952553, 149.92772, 14.753998, 175.45413, 19.693825, 181.91391, -13.686882, 132.82465, -23.186546, 130.35474, -10.423332, 88.137955, -18.593044, 89.62608, -31.54625, 40.53681, -41.045918, 35.248817, -8.457001, 62.73881, -3.137188, 53.99912, 42.02494, 26.509127, 36.70513, 20.239347, 69.10404, 68.34683, 78.41371, 71.79854, 65.8405, 114.20531, 73.02843, 111.78256, 86.81931, 159.65288, 96.08309, 166.11264, 62.702385)

[node name="Borders_Body" type="StaticBody2D" parent="."]
collision_layer = 128
collision_mask = 64

[node name="Borders_Shape" type="CollisionPolygon2D" parent="Borders_Body"]
position = Vector2(-16, 64)
rotation = -0.19115531
build_mode = 1
polygon = PackedVector2Array(141.56802, 57.952553, 149.92772, 14.753998, 175.45413, 19.693825, 181.91391, -13.686882, 132.82465, -23.186546, 130.35474, -10.423332, 88.137955, -18.593044, 89.62608, -31.54625, 40.53681, -41.045918, 35.248817, -8.457001, 62.73881, -3.137188, 53.99912, 42.02494, 26.509127, 36.70513, 20.239347, 69.10404, 68.34683, 78.41371, 71.79854, 65.8405, 114.20531, 73.02843, 111.78256, 86.81931, 159.65288, 96.08309, 166.11264, 62.702385)

[node name="ChestItem" parent="." instance=ExtResource("9_xyldh")]
position = Vector2(34, 56)

[node name="NpcContainer" parent="." instance=ExtResource("7_tg4fk")]

[node name="QuestItemContainer" parent="." instance=ExtResource("8_xyldh")]

[node name="MinigameShipSharks" parent="." node_paths=PackedStringArray("north_potentials", "south_potentials", "west_potentials", "east_potentials", "_room_zone_detector") instance=ExtResource("3_fe2kv")]
north_potentials = [NodePath("../ShipNorth"), NodePath("../ChestItem")]
south_potentials = [NodePath("../ShipSud"), NodePath("../ChestItem")]
west_potentials = [NodePath("../ShipOuest"), NodePath("../ChestOuest")]
east_potentials = [NodePath("../ShipEst"), NodePath("../ChestItem")]
_room_zone_detector = NodePath("../RoomZoneDetector")

[node name="RoomZoneDetector" parent="." instance=ExtResource("6_g83mn")]
position = Vector2(89, 72)

[node name="ShipOuest" parent="." instance=ExtResource("4_g83mn")]
position = Vector2(32, 100)

[node name="ShipNorth" parent="." instance=ExtResource("4_g83mn")]
position = Vector2(119, 31)
rotation = 1.5707964

[node name="ShipSud" parent="." instance=ExtResource("4_g83mn")]
position = Vector2(87, 108)

[node name="ChestOuest" parent="." instance=ExtResource("9_xyldh")]
position = Vector2(142, 58)

[node name="Shark_Path_Loop" parent="." instance=ExtResource("9_5bpbj")]
position = Vector2(53, 38)
curve = SubResource("Curve2D_ridpi")

[node name="Shark_Path_Loop2" parent="." instance=ExtResource("9_5bpbj")]
position = Vector2(62, 83)
curve = SubResource("Curve2D_xyldh")
